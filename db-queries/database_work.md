# Работа с базой данных

## Доступ к БД
Подключение выполнено через SSH к серверу тренажёра с последующим запуском psql локально на сервере.

Команда подключения к серверу:  
`ssh f767da28-b8d5-4278-9bbd-befdc386be69@serverhub.praktikum-services.ru -p 4554`

Команда подключения к БД:  
`psql -U morty -d scooter_rent`  
Пароль: smith

## Задание 1: Список логинов курьеров с количеством заказов в статусе «В доставке» (inDelivery = true)

Запрос:
```sql
SELECT 
    c."login" AS "Логин курьера",
    COUNT(o."id") AS "Количество заказов в доставке"
FROM 
    "Couriers" c
LEFT JOIN 
    "Orders" o ON c."id" = o."courierId"
WHERE 
    o."inDelivery" = true
GROUP BY 
    c."id", c."login"
ORDER BY 
    "Количество заказов в доставке" DESC;

Работа с базой данных:
 Логин курьера     | Количество заказов в доставке 
-------------------+-----------------------------
 courier_5         |                             8
 courier_1         |                             6
 courier_2         |                             4
 courier_3         |                             2
(4 rows)

Вывод: В базе найдено 4 курьера, у которых есть заказы в статусе «В доставке». Лидер — courier_5 с 8 заказами.Скриншот результата: screenshots/query1_result.png

Задание 2: Все трекеры заказов и их статусы

Запрос:
SELECT 
    "track" AS "Трекер",
    CASE 
        WHEN "finished" = true THEN 2
        WHEN "cancelled" = true THEN -1
        WHEN "inDelivery" = true THEN 1
        ELSE 0
    END AS "Статус"
FROM 
    "Orders"
ORDER BY 
    "track";

Результат выполнения:
 Трекер | Статус 
--------+--------
  45444 |      1
  45444 |      1
 111568 |      1
 111568 |      1
 139251 |      1
 139251 |      1
 232563 |      2
 232563 |      1
 251721 |      1
 251721 |      1
 347126 |      2
 347126 |      1
 410679 |      1
 410679 |      1
 554896 |      1
 554896 |      1
 671191 |      1
 671191 |      1
 976401 |      1
 976401 |      2
(20 rows)

Вывод: В базе 20 записей заказов. Статусы распределены так:  1 («В доставке») — большинство  
2 («Завершён») — несколько заказов  
0 («Создан») — есть  
-1 («Отменён») — отсутствует в выборке

Скриншот результата: screenshots/query2_result.pngСкриншот подключения по SSH и входа в psql: screenshots/connection_screenshot.png

Итог:
Подключение к БД прошло успешно.  
Запросы выполнены корректно и возвращают ожидаемые данные.  
Изначально таблицы были пустыми (0 rows), после создания заказов через веб-приложение и принятия курьерами данные появились и отображаются правильно.